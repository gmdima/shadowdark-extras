<div class="tom-slideshow-editor-content">
  <!-- ═══════════════════════════════════════════════════════════════
     SLIDESHOW EDITOR CONTENT
     ═══════════════════════════════════════════════════════════════ -->
  <section class="tom-editor-content">
    <!-- Slideshow Name -->
    <div class="form-group">
      <label><i class="fas fa-heading"></i> Slideshow Name</label>
      <input type="text" name="name" value="{{data.name}}" placeholder="Enter slideshow name...">
    </div>

    <!-- Scenes List -->
    <div class="form-group">
      <label>
        <i class="fas fa-film"></i> Scenes
        <span class="tom-hint">({{sceneCount}} scenes, Total: {{totalDuration}})</span>
      </label>
      <div class="tom-slideshow-scenes {{#unless scenes.length}}empty{{/unless}}">
        {{#if scenes.length}}
        {{#each scenes}}
        <div class="tom-slideshow-scene" data-index="{{index}}" draggable="true">
          <div class="drag-handle">
            <i class="fas fa-grip-vertical"></i>
          </div>
          <div class="tom-slideshow-scene-thumb">
            {{#if isVideo}}
            <video src="{{thumbnail}}" muted loop preload="metadata"></video>
            {{else}}
            <img src="{{thumbnail}}" alt="{{name}}">
            {{/if}}
          </div>
          <div class="tom-slideshow-scene-info">
            <div class="tom-slideshow-scene-name">{{name}}</div>
            <div class="tom-slideshow-scene-duration">
              <input type="number" name="sceneDuration" data-index="{{index}}" value="{{durationSeconds}}" min="1"
                max="300" step="0.5"> seconds
            </div>
          </div>
          <div class="tom-slideshow-scene-actions">
            <button class="tom-btn-icon small" data-action="move-scene-up" data-index="{{index}}" title="Move Up" {{#if
              (eq index 0)}}disabled{{/if}}>
              <i class="fas fa-chevron-up"></i>
            </button>
            <button class="tom-btn-icon small" data-action="move-scene-down" data-index="{{index}}" title="Move Down"
              {{#if (eq index (subtract ../sceneCount 1))}}disabled{{/if}}>
              <i class="fas fa-chevron-down"></i>
            </button>
            <button class="tom-btn-icon small" data-action="remove-scene" data-index="{{index}}" title="Remove">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
        {{/each}}
        {{else}}
        <div class="tom-slideshow-empty">
          <i class="fas fa-images"></i>
          <p>Drag scenes here or click to add</p>
        </div>
        {{/if}}
      </div>
    </div>

    <!-- Available Scenes -->
    {{#if availableScenes.length}}
    <div class="tom-slideshow-available">
      <div class="tom-slideshow-available-header">
        <h4>Available Scenes</h4>
      </div>
      <div class="tom-slideshow-available-list">
        {{#each availableScenes}}
        <div class="tom-slideshow-available-scene" data-scene-id="{{id}}" data-action="add-scene"
          title="Click or drag to add">
          {{#if isVideo}}
          <video src="{{thumbnail}}" muted loop preload="metadata"></video>
          {{else}}
          <img src="{{thumbnail}}" alt="{{name}}">
          {{/if}}
          <span>{{name}}</span>
        </div>
        {{/each}}
      </div>
    </div>
    {{/if}}

    <!-- Settings -->
    <div class="tom-slideshow-settings">
      <div class="tom-slideshow-setting">
        <label>Default Duration (seconds)</label>
        <input type="number" name="defaultDuration" value="{{divide data.defaultDuration 1000}}" min="1" max="300"
          step="0.5">
      </div>
      <div class="tom-slideshow-setting">
        <label>Transition Type</label>
        <select name="transitionType">
          {{#each transitions}}
          <option value="{{key}}" {{#if selected}}selected{{/if}}>{{name}}</option>
          {{/each}}
        </select>
      </div>
      <div class="tom-slideshow-setting">
        <label>Transition Duration (ms)</label>
        <input type="number" name="transitionDuration" value="{{data.transitionDuration}}" min="0" max="3000"
          step="100">
      </div>
    </div>

    <!-- Options -->
    <div class="tom-slideshow-options">
      <label class="tom-slideshow-option">
        <input type="checkbox" name="loop" {{#if data.loop}}checked{{/if}}>
        <span>Loop Slideshow</span>
      </label>
      <label class="tom-slideshow-option">
        <input type="checkbox" name="shuffle" {{#if data.shuffle}}checked{{/if}}>
        <span>Shuffle Order</span>
      </label>
      <label class="tom-slideshow-option">
        <input type="checkbox" name="cinematicMode" {{#if data.cinematicMode}}checked{{/if}}>
        <span>Cinematic Bars</span>
      </label>
    </div>
  </section>

  <!-- ═══════════════════════════════════════════════════════════════
     FOOTER
     ═══════════════════════════════════════════════════════════════ -->
  <footer class="tom-editor-footer">
    <div class="tom-footer-left">
      {{#unless isNew}}
      <button class="tom-btn tom-btn-secondary" data-action="play-preview">
        <i class="fas fa-play"></i> Preview
      </button>
      {{/unless}}
    </div>
    <div class="tom-footer-right">
      <button class="tom-btn tom-btn-secondary" data-action="cancel">
        <i class="fas fa-times"></i> Cancel
      </button>
      <button class="tom-btn tom-btn-primary" data-action="save">
        <i class="fas fa-save"></i> {{#if isNew}}Create{{else}}Save{{/if}}
      </button>
    </div>
  </footer>
</div>